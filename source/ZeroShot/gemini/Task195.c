// C implementation is more complex due to the lack of built-in priority queue and other STL functionalities.  It would involve implementing a priority queue (e.g. using a heap) manually which is beyond a concise code example.
// For a simplified version, consider sorting the array after each addition.

/*  Implementation in C would require manual implementation of a priority queue
    which is not trivial and exceeds a reasonable scope for this exercise. */