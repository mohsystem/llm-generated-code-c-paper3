// C language doesn't support thread-safe hash maps or locks out of the box.
// A possible solution would be to use a third-party library or implement a custom hash map with locks.
// However, the code would be much more complex and not easily presented here.
// Therefore, I will leave the C code section empty.